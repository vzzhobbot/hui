!function(a,b,c){"use strict";function d(){}d.getTpl=b.memoize(function(c){var d=a("#"+c);return d.length?b.template(d.html()):(console.log("there is no hlf.tpl '"+c+"' in dom"),"")}),d.getEl=function(a,b,c){var d='[hlf-role="'+b+'"]';return c&&(d+='[hlf-name="'+c+'"]'),a.find(d)},c.hlf=d}(jQuery,_,window),function(a,b,c){"use strict";c.form=function(c,d,e,f){var g=a('[hlf-form="'+c+'"]');b.each(d,function(a,c){var e=a.getConfig();b.each(e,function(a,c){b.isFunction(a)&&(e[c]=b.partialRight(a,d))}),a.draw(c,g,d)}),g.on("submit",function(){var a=!0;if(b.each(d,function(c){return c.validate&&b.isFunction(c.validate)&&(a=c.validate()),a}),a){var c=g.attr("action"),h=b.map(d,function(a){return b.isFunction(a.getParams)?a.getParams():null}),i=b.filter(h,function(a){return a}),j=b.map(e||{},function(a,b){return b+"="+a});return"undefined"!=typeof ga&&b.isFunction(ga)&&(b.isArray(f)&&f.length&&ga("send","event",f[0],f[1]),ga(function(a){j.push(a.get("linkerParam"))})),window.location=c+"/?"+i.concat(j).join("&"),!1}return a})}}(jQuery,_,hlf),function(a,b,c){"use strict";c.ac=function(d){function e(b){d.avgPricesCalendars.length&&a.ajax({dataType:"json",type:"get",url:d.avgPricesUrl.replace("{id}",b),success:f})}function f(a){if(b.size(a)){var c=null;b.each(d.avgPricesCalendars,function(b){c?(u[b].setDetails(c.getDetails()),u[b].refresh()):(u[b].specify(a,d.avgPricesFormatter),u[b].refresh(),c=u[b])})}}function g(){return d.id&&d.type?d.type+"Id="+d.id:d.text?d.name+"="+d.text:null}function h(c,e){o.addClass("hlf-state--loading"),a.ajax({dataType:"jsonp",type:"get",url:d.url,data:{lang:d.locale,limit:d.limit,term:c.term},jsonpCallback:"hlf_ac_callback",success:function(a){var c=b.map(a.cities,function(a){return{id:a.id,category:"Locations",type:"location",value:a.fullname,text:a.city,clar:(a.state?a.state+", ":"")+a.country,comment:a.hotelsCount+" hotels"}}),d=b.map(a.hotels,function(a){return{id:a.id,category:"Hotels",type:"hotel",value:a.name+", "+a.city+", "+a.country,text:a.name,clar:a.city+", "+a.country}});e(b.union(c,d)),o.removeClass("hlf-state--loading")},error:function(){o.removeClass("hlf-state--loading")}})}function i(){d.avgPricesUrl&&b.each(d.avgPricesCalendars,function(a){u[a].resetDetails()}),d.onReset()}function j(a,b,c){o.removeClass("hlf-state--error"),d.type=a,d.id=b,c&&p.val(c),e(b),d.onSelect(a,b),d.onSelectShowCalendar&&(u[d.onSelectShowCalendar].getStamp()||u[d.onSelectShowCalendar].show())}function k(f,g,k){if(d.id&&e(d.id),u=k||{},n=c.getEl(g,"ac",f),n.html(d.tplInput(d)),o=c.getEl(n,"input-wrap"),p=c.getEl(n,"input"),q=c.getEl(n,"hint"),r=c.getEl(n,"loader"),p.reachAutocomplete({source:h,select:function(a,b){j(b.item.type,b.item.id)},minLength:3}),p.on("keyup",function(){d.text=p.val()}),p.on("keydown",function(a){13!==a.keyCode&&9!==a.keyCode&&(d.type="",d.id=0,i()),d.gaEvent.length&&"undefined"!=typeof ga&&b.isFunction(ga)&&ga("send","event",d.gaEvent[0],d.gaEvent[1]),o.removeClass("hlf-state--error")}),p.on("focus",function(){o.addClass("hlf-state--focus"),o.removeClass("hlf-state--error")}),p.on("blur",function(){o.removeClass("hlf-state--focus")}),q.on("click",function(){o.removeClass("hlf-state--error")}),d.autoFocus&&!d.text.length&&p.focus(),d.samplesList.length){var l=b.map(d.samplesList,function(a){return d.tplSamplesLink(a)}),m=d.tplSamples(b.defaults({samplesText:d.samplesText.replace("{list}",l.join(", "))},d));n.append(m),s=c.getEl(n,"samples"),t=c.getEl(s,"samples-link"),t.on("click",function(){var b=a(this);return j(b.data("type"),b.data("id"),b.data("text")),!1})}}function l(){return d}function m(){return g()?!0:(p.focus(),o.addClass("hlf-state--error"),!1)}var n=null,o=null,p=null,q=null,r=null,s=null,t=null,u={};return d=b.defaults(d||{},{url:"http://yasen.hotellook.com/autocomplete",name:"destination",text:"",type:"",id:0,limit:5,locale:"en-US",gaEvent:[],autoFocus:!1,hint:"panic!",onSelect:function(){},onSelectShowCalendar:null,onReset:function(){},avgPricesUrl:"http://search.hotellook.com/ajax/location-avg-prices.json?locationId={id}",avgPricesCalendars:[],avgPricesFormatter:function(a){return""+Math.round(a)},samplesText:"For example: {list}",samplesList:[],tplInput:b.template('<div class="hlf-input hlf-input--ac" hlf-role="input-wrap"><input type="text" placeholder="<%= placeholder %>" value="<%= text %>" hlf-role="input" /><div class="loader" hlf-role="loader"></div><div class="hint" hlf-role="hint"><%= hint %></div></div>'),tplSamples:b.template('<div class="hlf-input--ac-samples" hlf-role="samples"><%= samplesText %></div>'),tplSamplesLink:b.template('<a href="#" hlf-role="samples-link" data-type="<%= type %>" data-id="<%= id %>" data-text="<%= text %>"><%= sample %></a>')}),{draw:k,select:j,getParams:g,getConfig:l,validate:m}},a.widget("custom.reachAutocomplete",a.ui.autocomplete,{_create:function(){this._super(),this.widget().menu("option","items","> :not(.ui-autocomplete-category)")},_renderMenu:function(b,c){b.addClass("hlf-ac");var d=this,e="";a.each(c,function(a,c){var f;c.category!=e&&(b.append("<li class='ui-autocomplete-category'>"+c.category+"</li>"),e=c.category),f=d._renderItemData(b,c),c.category&&f.attr("aria-label",c.category+" : "+c.label)})},_renderItem:function(b,c){var d='<span class="ui-menu-item-text">'+c.text+"</span>";return c.clar&&(d+='<span class="ui-menu-item-clar">, '+c.clar+"</span>"),c.comment&&(d+='<span class="ui-menu-item-comment">'+c.comment+"</span>"),a("<li>").append(a("<a>").html(d)).appendTo(b)}})}(jQuery,_,hlf),function(a,b,c){"use strict";c.calendar=function(d){function e(){if(B.datepicker("option","disabled"))return null;var b=q();return b?d.name+"="+a.datepicker.formatDate(d.format,b):null}function f(){B.datepicker("option","disabled",!0),A.addClass("hlf-state--disabled"),A.removeClass("hlf-state--error")}function g(){B.datepicker("option","disabled",!1),A.removeClass("hlf-state--disabled")}function h(){var a=D[d.relationCalendar];a&&a.getStamp()&&(d.relationSuperior?a.getStamp()<=p()&&a.setDate(q(),1):a.getStamp()>=p()&&a.setDate(q(),-1))}function i(){var a=D[d.relationCalendar];a&&!a.getStamp()&&d.relationAutoSet&&(d.relationSuperior?a.setDate(q(),1):a.setDate(q(),-1))}function j(){var a=D[d.relationCalendar];a&&!G&&d.relationAutoShow&&a.show(!0)}function k(e,f,g){D=g||{},z=c.getEl(f,"calendar",e),z.html(d.tplInput(d)),A=c.getEl(z,"input-wrap"),B=c.getEl(z,"input"),C=c.getEl(z,"hint"),B.datepicker({minDate:d.min,numberOfMonths:d.months,onSelect:function(c,e){h(),i(),j(),d.onSelect(c,a.datepicker.formatDate(d.format,q()),e),d.gaEvent.length&&"undefined"!=typeof ga&&b.isFunction(ga)&&ga("send","event",d.gaEvent[0],d.gaEvent[1]),A.removeClass("hlf-state--error")},beforeShowDay:function(a){return y(a)},beforeShow:function(a,b){b.dpDiv.attr("__cheat",E)},afterShow:function(){d.head&&a("#ui-datepicker-div").prepend(d.tplHead({head:d.head})),b.isArray(F.points)&&F.points.length&&a(".ui-datepicker-row-break").html(d.tplLegend({legend:d.legend,points:b.map(F.points,F.formatter)}))},onClose:function(){G=!1}}),b.isDate(d.value)&&(d.value.setTime(d.value.getTime()+60*d.value.getTimezoneOffset()*1e3),B.datepicker("setDate",d.value)),d.locale&&B.datepicker("option",a.datepicker.regional[d.locale]),B.on("focus",function(){A.addClass("hlf-state--focus"),A.removeClass("hlf-state--error")}),B.on("blur",function(){A.removeClass("hlf-state--focus")}),C.on("click",function(){A.removeClass("hlf-state--error")})}function l(a){G=!!a,setTimeout(function(){B.datepicker("show")},16)}function m(){B.datepicker("hide")}function n(){var a=B.datepicker("widget");a.is(":visible")&&a.attr("__cheat")==E&&B.datepicker("refresh")}function o(a,b){return a.setDate(a.getDate()+b),a}function p(){var a=B.datepicker("getDate");return a?new Date(B.datepicker("getDate")).getTime():null}function q(){var a=B.datepicker("getDate");return a?new Date(a):null}function r(a,b){B.datepicker("setDate",o(a,b)),A.removeClass("hlf-state--error")}function s(){return d}function t(){return!d.required||B.datepicker("option","disabled")||e()?!0:(A.addClass("hlf-state--error"),C.html(d.hintEmpty),!1)}function u(a,c){if(!b.size(a))return!1;var d=0,e=0,f=0,g=0;b.each(a,function(a){(!f||f>a)&&(f=a),(!g||a>g)&&(g=a),e+=a,d++});var h=e/d,i=g-h,j=h-f,k={};return b.each(a,function(a,b){var c=a-h,d=!0;0>c&&(d=!1,c=Math.abs(c));var e=100*c/(d?i:j),f=2;d?(e>20&&(f=3),e>60&&(f=4)):(e>20&&(f=1),e>60&&(f=0)),k[b]={value:a,rate:f}},this),v({dates:k,points:[h-.8*j,h,h+.8*i],formatter:c||function(a){return a}}),!0}function v(a){A.addClass("hlf-state--detailed"),F=a}function w(){return b.clone(F,!0)}function x(){A.removeClass("hlf-state--detailed"),F={}}function y(a){var c=a.getMonth()+1,d=a.getDate(),e=a.getFullYear()+"-"+(10>c?"0"+c:c)+"-"+(10>d?"0"+d:d),f=[!0,"",""];return!b.isUndefined(F.dates)&&F.dates[e]&&(f=[!0,"ui-datepicker-dayType ui-datepicker-dayType--"+F.dates[e].rate,F.formatter(F.dates[e].value)]),f}var z=null,A=null,B=null,C=null,D={},E=b.uniqueId("hlf.calendar"),F={},G=!1;return d=b.defaults(d||{},{gaEvent:[],required:!1,placeholder:"Choose date...",name:"date",value:null,format:"yy-mm-dd",min:0,months:2,hintEmpty:"empty-panica!",hintPeriod:"period-panica!",head:null,legend:"Days colored by average price for the night",onSelect:function(){},locale:"en-US",relationCalendar:null,relationSuperior:!0,relationAutoSet:!1,relationAutoShow:!1,tplInput:b.template('<div class="hlf-input hlf-input--calendar" hlf-role="input-wrap"><input type="text" placeholder="<%= placeholder %>" hlf-role="input" /><div class="hint" hlf-role="hint"></div></div>'),tplHead:b.template('<div class="ui-datepicker-head"><%= head %></div>'),tplLegend:b.template('<div class="ui-datepicker-legend"><div class="ui-datepicker-legend-head"><%= legend %></div><div class="ui-datepicker-legend-points"><div class="ui-datepicker-legend-points-line"></div><ul class="ui-datepicker-legend-points-list"><% _.each(points, function(point, i) { %><li class="ui-datepicker-legend-points-item ui-datepicker-legend-points-item--<%= i %>"><%= point %></li><% }); %></ul></div></div>')}),{disable:f,enable:g,draw:k,refresh:n,show:l,hide:m,getStamp:p,getDate:q,setDate:r,getParams:e,getConfig:s,setDetails:v,getDetails:w,resetDetails:x,specify:u,validate:t}},a(function(){a.datepicker._updateDatepicker_original=a.datepicker._updateDatepicker,a.datepicker._updateDatepicker=function(b){a.datepicker._updateDatepicker_original(b);var c=this._get(b,"afterShow");c&&c.apply(b.input?b.input[0]:null)}}),a.datepicker.regional["ru-RU"]={clearText:"Удалить",clearStatus:"",closeText:"Закрыть",closeStatus:"Закрыть без изменений",prevText:"< Предыдущие",prevStatus:"Посмотреть предыдущие месяцы",nextText:"Следующие >",nextStatus:"Посмотреть следующие месяцы",currentText:"Текущий",currentStatus:"Посмотреть текущий месяц",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthStatus:"Посмотреть другой месяц",yearStatus:"Посмотреть другой год",weekHeader:"Sm",weekStatus:"",dayNames:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],dayNamesShort:["вс","пн","вт","ср","чт","пт","сб"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],dayStatus:"Использовать DD как первый день недели",dateStatus:"Выбрать DD, MM d",dateFormat:"d M, D",firstDay:1,initStatus:"Выбрать дату",isRTL:!1},a.datepicker.regional["en-US"]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"D, MM d",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["en-GB"]=a.extend({},a.datepicker.regional["en-US"]),a.datepicker.regional["en-CA"]=a.extend({},a.datepicker.regional["en-US"]),a.datepicker.regional["en-IE"]=a.extend({},a.datepicker.regional["en-US"]),a.datepicker.regional["en-AU"]=a.extend({},a.datepicker.regional["en-US"]),a.datepicker.regional["fr-FR"]={closeText:"Fermer",prevText:"Précédent",nextText:"Suivant",currentText:"Aujourd'hlf",monthNames:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],monthNamesShort:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["D","L","M","M","J","V","S"],weekHeader:"Sem.",dateFormat:"d M yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["es-ES"]={closeText:"Cerrar",prevText:"&#x3C;Ant",nextText:"Sig&#x3E;",currentText:"Hoy",monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sá"],weekHeader:"Sm",dateFormat:"d MM yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["de-DE"]={closeText:"Schließen",prevText:"&#x3C;Zurück",nextText:"Vor&#x3E;",currentText:"Heute",monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"],weekHeader:"KW",dateFormat:"d MM yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["th-TH"]={closeText:"ปิด",prevText:"&#xAB;&#xA0;ย้อน",nextText:"ถัดไป&#xA0;&#xBB;",currentText:"วันนี้",monthNames:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],monthNamesShort:["ม.ค.","ก.พ.","มี.ค.","เม.ย.","พ.ค.","มิ.ย.","ก.ค.","ส.ค.","ก.ย.","ต.ค.","พ.ย.","ธ.ค."],dayNames:["อาทิตย์","จันทร์","อังคาร","พุธ","พฤหัสบดี","ศุกร์","เสาร์"],dayNamesShort:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],dayNamesMin:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."],weekHeader:"Wk",dateFormat:"d MM yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["it-IT"]={closeText:"Chiudi",prevText:"&#x3C;Prec",nextText:"Succ&#x3E;",currentText:"Oggi",monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gi","Ve","Sa"],weekHeader:"Sm",dateFormat:"d MM yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.regional["pl-PL"]={closeText:"Zamknij",prevText:"&#x3C;Poprzedni",nextText:"Następny&#x3E;",currentText:"Dziś",monthNames:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],monthNamesShort:["stycznia","lutego","marca","kwietnia","maja","czerwca","lipca","sierpnia","września","października","listopada","grudnia"],dayNames:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],dayNamesShort:["Nie","Pn","Wt","Śr","Czw","Pt","So"],dayNamesMin:["N","Pn","Wt","Śr","Cz","Pt","So"],weekHeader:"Tydz",dateFormat:"d M yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},a.datepicker.setDefaults(a.datepicker.regional["en-US"])}(jQuery,_,hlf),function(a,b,c){"use strict";c.noDates=function(a){function d(){return i.is(":checked")?a.name+"=1":null}function e(d,e,f){j=f||{},g=c.getEl(e,"noDates",d),g.html(a.tplInput(a)),h=c.getEl(g,"noDates-input-wrap"),i=c.getEl(g,"noDates-input"),i.on("change",function(c){b.each(a.calendars,function(a){c.target.checked?j[a].disable():j[a].enable()}),a.onChange(c),a.gaEvent.length&&"undefined"!=typeof ga&&b.isFunction(ga)&&ga("send","event",a.gaEvent[0],a.gaEvent[1]),c.target.checked?a.onOn(c):a.onOff(c)}),i.on("focus",function(){h.addClass("hlf-state--focus")}),i.on("blur",function(){h.removeClass("hlf-state--focus")})}function f(){return a}var g=null,h=null,i=null,j={};return a=b.defaults(a||{},{name:"unknownDates",text:"Checkbox",gaEvent:[],onChange:function(){},onOn:function(){},onOff:function(){},calendars:[],tplInput:b.template('<label hlf-role="noDates-input-wrap"><input type="checkbox" hlf-role="noDates-input"><%= text %></label>')}),{draw:e,getParams:d,getConfig:f}}}(jQuery,_,hlf),function(a,b,c){"use strict";c.guests=function(a){function d(){var b="adults="+a.adults;return a.children.length&&(b+="&children="+a.children.join(",")),b}function e(){var c=b.map(a.children,function(b,c){var d=!(null===b||parseInt(b)<0||parseInt(b)>a.childMaxAge);return d&&v[c].removeClass("hlf-state--error"),d});return b.each(c,function(a,b){return a?void 0:(w[b].focus(),v[b].addClass("hlf-state--error"),!1)}),!b.filter(c,function(a){return!a}).length}function f(d,e,f){y=f||{},j=c.getEl(e,"guests",d),j.html(a.tplContainer(a)),k=c.getEl(j,"guests"),l=c.getEl(j,"summary"),m=c.getEl(j,"controls"),n=c.getEl(j,"adults-val"),p=c.getEl(j,"adults-decrement"),o=c.getEl(j,"adults-increment"),q=c.getEl(j,"children-val"),s=c.getEl(j,"children-decrement"),r=c.getEl(j,"children-increment"),t=c.getEl(j,"children-list"),b.each(a.children,function(a,b){g(b)}),h(),l.on("click",function(){k.hasClass("hlf-state--closed")&&a.gaEvent.length&&"undefined"!=typeof ga&&b.isFunction(ga)&&ga("send","event",a.gaEvent[0],a.gaEvent[1]),k.toggleClass("hlf-state--closed")}),o.on("click",function(){return a.adults==a.adultsMax?!1:(a.adults++,h(),!1)}),p.on("click",function(){return a.adults==a.adultsMin?!1:(a.adults--,h(),!1)}),r.on("click",function(){return a.children.length==a.childrenMax?!1:(a.children.push(null),g(a.children.length-1),h(),!1)}),s.on("click",function(){return 0==a.children.length?!1:(u[a.children.length-1].remove(),a.children.pop(),u.pop(),v.pop(),w.pop(),x.pop(),h(),!1)})}function g(d){t.append(a.tplChild({key:d,age:a.children[d],hint:a.childHint})),u[d]=c.getEl(t,"child-container",d),v[d]=c.getEl(u[d],"input-wrap"),w[d]=c.getEl(u[d],"input"),x[d]=c.getEl(u[d],"hint"),w[d].on("focus",function(){v[d].addClass("hlf-state--focus"),v[d].removeClass("hlf-state--error")}),w[d].on("blur",function(){v[d].removeClass("hlf-state--focus")}),w[d].on("keyup",function(){var c=w[d].val().trim();a.children[d]=c.length&&b.isFinite(c)?parseInt(c):null}),w[d].on("keydown",function(){v[d].removeClass("hlf-state--error")}),x[d].on("click",function(){v[d].removeClass("hlf-state--error")}),null==a.children[d]&&w[d].focus()}function h(){l.html(a.summary(a.adults,a.children)),n.html(a.adults),q.html(a.children.length),a.children.length?t.removeClass("hlf-state--empty"):t.addClass("hlf-state--empty"),a.children.length==a.childrenMax?r.addClass("hlf-state--disabled"):r.removeClass("hlf-state--disabled"),a.children.length?s.removeClass("hlf-state--disabled"):s.addClass("hlf-state--disabled"),a.adults==a.adultsMax?o.addClass("hlf-state--disabled"):o.removeClass("hlf-state--disabled"),a.adults==a.adultsMin?p.addClass("hlf-state--disabled"):p.removeClass("hlf-state--disabled")}function i(){return a}var j=null,k=null,l=null,m=null,n=null,o=null,p=null,q=null,r=null,s=null,t=null,u=[],v=[],w=[],x=[],y={};return a=b.defaults(a||{},{gaEvent:[],adultsMax:4,adultsMin:1,adults:2,children:[],childrenMax:3,childMaxAge:17,adultsTitle:"Adults",childrenTitle:"Children",childHint:"Check da age!",summary:function(a,b){return a+b.length},tplContainer:b.template('<div class="hlf-guests hlf-state--closed" hlf-role="guests"><div class="hlf-guests-i" hlf-role="summary"></div><div class="hlf-guests-dd" hlf-role="controls"><div class="hlf-guests-adults"><div class="hlf-guests-adults-title"><%= adultsTitle %></div><div class="hlf-guests-adults-controls"><a href="#" hlf-role="adults-decrement">-</a><div class="hlf-guests-adults-val" hlf-role="adults-val"></div><a href="#" hlf-role="adults-increment">+</a></div></div><div class="hlf-guests-children"><div class="hlf-guests-children-title"><%= childrenTitle %></div><div class="hlf-guests-children-controls"><a href="#" hlf-role="children-decrement">-</a><div class="hlf-guests-children-val" hlf-role="children-val"></div><a href="#" hlf-role="children-increment">+</a></div><ul class="hlf-guests-children-list" hlf-role="children-list"></ul></div></div></div>'),tplChild:b.template('<li class="hlf-guests-children-item" hlf-role="child-container" hlf-name="<%= key %>"><div class="hlf-input" hlf-role="input-wrap"><input type="text" hlf-role="input" value="<%= age %>" /><div class="hint" hlf-role="hint"><%= hint %></div></div></li>')}),{draw:f,getParams:d,getConfig:i,validate:e}}}(jQuery,_,hlf),function(a,b,c){"use strict";c.submit=function(a){function d(d,e,i){h=i||{},f=c.getEl(e,"submit",d),f.html(a.tplButton(a)),g=c.getEl(f,"button"),g.on("click",function(){a.gaEvent.length&&"undefined"!=typeof ga&&b.isFunction(ga)&&ga("send","event",a.gaEvent[0],a.gaEvent[1])})}function e(){return a}var f=null,g=null,h={};return a=b.defaults(a||{},{gaEvent:[],text:"Submit",tplButton:b.template('<button hlf-role="button"><%= text %></button>')}),{draw:d,getConfig:e}}}(jQuery,_,hlf);